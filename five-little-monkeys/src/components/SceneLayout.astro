---
import { useStore } from "@nanostores/astro";
import { monkeyCount, resetMonkeys } from "../stores/monkeyStore.js";
import MonkeyCard from "./MonkeyCard.astro";

const count = useStore(monkeyCount);
---

<div
  class="min-h-screen flex flex-col justify-center items-center bg-gradient-to-b from-sky-200 to-blue-500 text-center p-6"
>
  <h1 class="text-4xl font-extrabold text-white mb-6">
    Five Little Monkeys Jumping on the Bed
  </h1>

  <div class="grid grid-cols-2 md:grid-cols-3 gap-4">
    {Array.from({ length: count }).map((_, i) => <MonkeyCard key={i} />)}
  </div>

  <p class="mt-6 text-white text-lg">
    {
      count > 0
        ? `${count} little monkeys jumping on the bed...`
        : "No more monkeys jumping on the bed!"
    }
  </p>

  <button
    class="mt-4 bg-green-500 hover:bg-green-600 text-white px-4 py-2 rounded-lg transition-colors"
    onClick={() => resetMonkeys()}
  >
    Restart Story
  </button>
</div>
